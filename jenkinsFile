pipeline {
    agent any 
    tools
   {
    maven 'Maven'
    jdk 'JDK8'
   }
   
   
   stages{
   
        stage('Test') { 
            steps {
			    checkout scm
		
		}}
		
		
	stage("make snapshot" ){
	steps{
	script {
                    if (${env.BRANCH_NAME} == 'master') {
                        
			echo "test master"
			commit= $GIT_COMMIT
			echo " my commit is ${env.commit}"
			
                    } else {
                        echo "test feature"
                    }
        }
        }}
	stage("make artifact in master case"){
	steps{
	script {
                    if (${env.BRANCH_NAME} == 'master') {
                        
			echo "my commit is ${env.commit}"
			bat "git checkout ${env.commit}"
			echo "deploy the artifcat"
			
                    } else {
                        echo "is good"
                    }
        
        }
	}
	}
	
	
	
	
	
    }
}
